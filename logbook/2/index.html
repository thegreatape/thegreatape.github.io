<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Logbook - page 2 &#8211; Duct Tape and Turing Machines</title>
<meta name="description" content="">
<meta name="keywords" content="">
<!-- Twitter Cards -->
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="/images/birds.jpg">
<meta name="twitter:title" content="Logbook - page 2">
<meta name="twitter:description" content="">
<meta name="twitter:creator" content="@thegreatape">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Logbook - page 2">
<meta property="og:description" content="Duct Tape and Turing Machines">
<meta property="og:url" content="/logbook/2/index.html">
<meta property="og:site_name" content="Duct Tape and Turing Machines">





<link rel="canonical" href="/logbook/2/">
<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Duct Tape and Turing Machines Feed">


<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Google Webfonts -->
<link href='http://fonts.googleapis.com/css?family=PT+Sans+Narrow:400,700|PT+Serif:400,700,400italic' rel='stylesheet' type='text/css'>
<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.min.css">

<!--[if (lt IE 9) & (!IEMobile)]>
<link rel="stylesheet" href="/assets/css/ie.min.css">
<![endif]-->

<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script src="/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/images/apple-touch-icon-144x144-precomposed.png">

</head>

<body class="articles" itemscope itemtype="http://schema.org/WebPage">

<!--[if lt IE 9]><div class="browser-upgrade alert alert-info">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div><![endif]-->

<div class="navigation-wrapper">
	<div class="site-name">
	</div><!-- /.site-name -->
	<div class="top-navigation">
		<nav role="navigation" itemscope itemtype="http://schema.org/SiteNavigationElement">
		    <ul>
		        
				<li><a href="/" >Articles</a></li>
		        
				<li><a href="/logbook" >Logbook</a></li>
		        
				<li><a href="/code" >Code</a></li>
		        
		        <li><i class="icon-feed"></i> <a href="/feed.xml" title="Atom/RSS feed">Feed</a>
		    </ul>
		</nav>
	</div><!-- /.top-navigation -->
</div><!-- /.navigation-wrapper -->



<div class="article-author-top">
  <img src="/images/bio-photo.png" class="bio-photo" alt="Thomas Mayfield bio photo"></a>
<div class="bio-content">
  <h3>Thomas Mayfield</h3>
  <p>Polyglot programmer who loves the weird beautiful chaos of humans building software together. Fitness nerd. Southern kid living in Massachusetts.</p>
  <div class="social-icons">
    <a href="http://twitter.com/thegreatape" class="author-social" target="_blank"><i class="icon-twitter"></i> Twitter</a>
    
    
    
    
    <a href="http://github.com/thegreatape" class="author-social" target="_blank"><i class="icon-github"></i> Github</a>
    
    
  </div>
</div>

</div>

<div id="log-index" itemprop="mainContentOfPage" itemscope itemtype="http://schema.org/Blog">
  <p class="tagline">
    The logbook is where I keep less structured, weekly-ish writing: stray thoughts and what I'm building or learning.
  </p>
  
    <article itemscope itemtype="http://schema.org/BlogPosting" itemprop="blogPost" class="logbook">
      <h2 itemprop="headline">
        <a href="/logbooks/2018-03-18-time-state-and-memory/" rel="bookmark" title="The Elements Of Computing Systems: Time, State & Memory"> 
          <span class="post-date">Mar 18, 2018</span>
        </a>
      </h2>
      <div class="article-wrap" itemprop="text">
        <p>Oh boy, a clock! In this chapter of <a href="http://www.nand2tetris.org/">nand2tetris</a>, we started teaching our logic circuits about time and consequently, memory. We’re introduced to a single new primitive, a data flipflop: all it does is output the value of its input one clock tick ago. With that and the array of combinatorial logic gates from previous chapters, we build all the way up to 16 kilobye RAM chips!</p>

<p>It was a bit disappointing that DFFs are given as primitives here. Though the book says they can be composed from Nand gates just like the rest of the chips we’ve built so far, it would have been neat to see the gory details of how one goes from combinatorial, stateless logic to sequential, time-based logic. Apparently the construction of DFFs is “intricate”, so I get pedagogically why we aren’t asked to implement them. Still, nandandflipflop2tetris just doesn’t have the same ring…</p>

<p>That aside, building memory chips felt like like bit twiddling and more like combining of logical components. These chips were easier to get right on the first-ish try without pen and paper; the composing of larger and larger RAM chips felt particularly simple and elegant. It did, however, take a bit for me to shift my thinking abouts values throughout a system being phased time-wise: e.g. you set inputs up, then <em>on the next clock tick</em> the outputs react.</p>

<p>Aside: an HDL syntax thing that I didn’t know is that you can declare pin connection twice on the gate. Like, if I wanted to hook up a DFF’s output pin to both the chip’s out pin and something else internally, you can do  <code class="highlighter-rouge">DFF(in=something, out=outb, out=out)</code> . The simulator won’t let you connect pins that touch the outside world to internal pins, so you can’t just use <code class="highlighter-rouge">out</code>. Go figure.</p>

      </div>
    </article>
  
    <article itemscope itemtype="http://schema.org/BlogPosting" itemprop="blogPost" class="logbook">
      <h2 itemprop="headline">
        <a href="/logbooks/2018-03-12-teaching-sand-math/" rel="bookmark" title="The Elements Of Computing Systems: Teaching First-Grade Math To Virtual Sand"> 
          <span class="post-date">Mar 12, 2018</span>
        </a>
      </h2>
      <div class="article-wrap" itemprop="text">
        <p>Continuing my slow plod through TEoCS (also known as <a href="http://www.nand2tetris.org/">nand2tetris</a>), I’ve now reached the part of building in building a computer where I’ve built something that… computes.</p>

<p>The <em>Arithmetic Logic Unit</em> chip is the first thing I’ve made that felt like it deserved the label “chip” instead of the mechanical-sounding “gate”.  Just like everything else so far, at its heart it’s a bunch Nand gates with a lot of wires running between them… but it feels like we’ve crossed over from simple logic reified by wires into the real start of a more general purpose computing machine. The chip has a pair of 16-bit inputs, and 6 control bits, which you manipulate to do various combinations of arithmatic, from producing a constant value, addition, subtraction, bitwise boolean operations, negation upon those inputs. We’ll apparently be implementing multiplication and division at a higher level up the stack, but that’s a still a lot for some jumped-up simulated silicon.</p>

<p>It was, remarkably, only 14 lines of HDL code to implement, using all the gates I’d built so far.</p>

<p>It would have been pretty easy to rip through this chapter and build the ALU by just blindly implementing the logical operations indicated in the chip’s truth table and control bits, but I wanted to take a step back and work out with pen and paper <em>how</em> the chip actually accomplished a bunch of this math. It wasn’t obvious at all to me that, “ok, negate the y bus’s bits, then add them to x and then negate the result of that” comes out to <code class="highlighter-rouge">x-y</code>. But it does, and I’ve at least moved past taking it on faith after working out a few of these operations out with ink and dead trees. Pretty elegant design!</p>

<p>A few tidbits that were helpful for me as I worked through this chapter:</p>

<ul>
  <li>
    <p>You can use the literal values <code class="highlighter-rouge">true</code> or <code class="highlighter-rouge">false</code> if you want a wired to be always on or off.  This eluded me for a bit (heh heh heh).</p>
  </li>
  <li>
    <p>The tests will produce a (relatively) easy to read output file as they go. At least on OS X, it’s difficult to see the entirety of this output in the simulator’s UI, but it’s also available in a file in the current project directory with the <code class="highlighter-rouge">.out</code> extension. You can eyeball or diff each of its lines versus the test script’s <code class="highlighter-rouge">.cmp</code> file to start seeing where things have gone wrong.</p>
  </li>
  <li>
    <p>Examining the state of each internal pin of the chip in the hardware simulator is a great debugging technique. I found plenty of bugs by just running the test script, waiting for it to fail on a particular case, then stepping through what each internal pin/bus’s value should have been on paper.</p>
  </li>
</ul>

      </div>
    </article>
  
    <article itemscope itemtype="http://schema.org/BlogPosting" itemprop="blogPost" class="logbook">
      <h2 itemprop="headline">
        <a href="/logbooks/2018-02-22-blinking-lights/" rel="bookmark" title="The Elements of Computing Systems: Putting The Blinking Lights Back In Computer Science"> 
          <span class="post-date">Feb 22, 2018</span>
        </a>
      </h2>
      <div class="article-wrap" itemprop="text">
        <p>Last week, I cracked open <a href="http://www.nand2tetris.org/">The Elements of Computing Systems</a> and started working through it. It’s a book with a pretty cool idea: it walks you through thirteen projects that all build upon each other to create a complete general-purpose computer. The first chapter starts with transistors and logic gates; the last has Tetris running on an operating system you wrote!</p>

<p>My posts about work towards this year’s learning-and-doing goal have thus far been either been documenting a finished project or showcasing immediately usable tips and tricks. Working my way through this book is going to be a little different. I want to document my progress—hopefully without these posts sounding like a third-grade book report—so I’m just going to try and call out what was fun or interesting about the material as I work through it. Maybe a work journal like this will be a useful template for how to write about other longer, ongoing projects, but we’ll see! This is all serving as a proxy for habit changes, which is the most important thing to me.</p>

<hr />

<p>The first chapter of TEoCS has you building primitive boolean logic gates starting with just a single atom: a <a href="https://en.wikipedia.org/wiki/NAND_gate">Nand gate</a>. You progressively build more and more complicated gates, from the familiar Not/Or/And operators to stuff like multiplexors and n-way version of the earlier gates.</p>

<p>The book doesn’t come with a soldering iron, so this is all wired up inside a hardware simulator program (that reminds me of being introduced to pointers machine-language first in <a href="https://www.cs.oberlin.edu/~jdonalds/210/syllabus.html">CS210</a>). You wire up the gates by writing code in Hardware Definition Language: basically virtually naming all the chips and how wires connect them.  You can load into the simulator, and then change the value of various wires and see what happens. It’s a baroque-looking program, but pretty useful for exploring and debugging:</p>

<p><a href="/images/xor.png"><img src="/images/xor.png" alt="hardware simulator" /></a></p>

<p>Delightfully, the material has a set of test scripts that you can use to put your gates through their paces and make sure you’ve wired up everything correctly.</p>

<p>Creating gates like this via code definitely stretched my brain. Sketching them out on pen and paper was was really helpful:</p>

<p><a href="/images/circuit-sketch.jpg"><img src="/images/circuit-sketch.jpg" alt="circuit sketch" /></a></p>

<p>Next week, we teach the circuits to do math!</p>

      </div>
    </article>
  
    <article itemscope itemtype="http://schema.org/BlogPosting" itemprop="blogPost" class="logbook">
      <h2 itemprop="headline">
        <a href="/logbooks/2018-01-20-interlude-vacation/" rel="bookmark" title="Interlude - Vacation"> 
          <span class="post-date">Jan 20, 2018</span>
        </a>
      </h2>
      <div class="article-wrap" itemprop="text">
        <p>Though I’m generally terrible at taking regular vacations, last week my wife and I got away to Hawaii for some long overdue R&amp;R. We saw whales at sunset, stood 10 feet away from active lava flows, hiked an extinct volcano caldera, relaxed on the beach, and drank a whole bunch of rum drinks.</p>

<p>Regular learning posts resume next!</p>

<p><img src="/images/hawaii/beach-sunset.jpg" alt="Beach sunset" /></p>

<p><img src="/images/hawaii/botantical-garden-shore.jpg" alt="Botantical garden shore" /></p>

<p><img src="/images/hawaii/caldera.jpg" alt="Caldera floor" /></p>

<p><img src="/images/hawaii/hanu.jpg" alt="Sea turtle" /></p>

<p><img src="/images/hawaii/lava.jpg" alt="Lava!" /></p>

<p>Oh, and we got to experience about 38 minutes of sheer mortal terror.</p>

<p><img src="/images/hawaii/oh-fuck.png" alt="Missle alert" /></p>

      </div>
    </article>
  
    <article itemscope itemtype="http://schema.org/BlogPosting" itemprop="blogPost" class="logbook">
      <h2 itemprop="headline">
        <a href="/logbooks/2012-07-23-notes-on-haskell-seven-languages-in-seven-weeks/" rel="bookmark" title="Notes on Haskell: Seven Languages In Seven Weeks"> 
          <span class="post-date">Jul 23, 2012</span>
        </a>
      </h2>
      <div class="article-wrap" itemprop="text">
        <p>I’ll admit I approached Haskell with a bit of trepidation: the language has a tongue-in-cheek unofficial motto of “avoid success at all costs” and a reputation of only being used by academic ivory-tower types.</p>

<h3 id="functional-strength">Functional Strength</h3>

<p>Haskell’s functional programming model is pure as the driven snow: unlike some of the functional languages earlier in the book, there’s no mutatable state whatsoever. Period, end of story. Like all the previous functional languages, lists of data are a first-class primitive and there are a number of tools for slicing and dicing them. The usual map/filter/fold suspects are around, as are succinct form for defining anonymous functions and some powerful list comprehension forms.</p>

<p>Lazy evaluation seems to be the default mode in Haskell. Under the hood, every function has a single argument—functions with multiple arguments are split into multiple functions that are then applied to each other. This allows for easy currying—saving functions with partially bound arguments for later full evaluation. These partially applied functions let you do some pretty nifty tricks, like incrementing a list via <code class="highlighter-rouge">map (+ 1) [1, 2, 3]</code>. Lazy evaluation also allows functions to be infinite generators without any special invocation or magic.</p>

<h3 id="not-my-type">Not My Type</h3>

<p>Haskell, while strongly typed, requires surprisingly little type declaration—the type checker can infer much of what it needs from the structure of the code. You can define your own types quite easily, both in terms of other types and recursively. These recursive definitions can lead to some very terse expressions of complex concepts - a one-line tree type definition, for example.</p>

<p>After all that, I have to admit that I don’t totally grok Haskell’s type system. Fighting with type error messages in GHC is what prevented me from doing most of the non-trivial exercises in this chapter. It’s apparent that once you learn to use it well, Haskell’s type system is sophisticated and very powerful—but for me, the learning curve proved greater than my enthusiasm for the language. Perhaps I’m spoiled by more dynamically-typed languages.</p>

<h3 id="monads-or-what-is-this-i-dont-even">Monads (Or, What Is This I Don’t Even)</h3>

<p>The book attempts to explain monads initially through an example involving drunken pirates, which is a perfectly good stand-in for my mental state while trying understand how monads work. The idea—I think—is a generally applicable way to represent state in a language that has no mutatable state. Monads seem to act as functions whose return values can work as state accumulators when chained together. Using monads under the covers, the <code class="highlighter-rouge">do</code> statement lets you write imperative looking code, but it’s actually chained together with monads and winds up boiling down to one big function invocation. That top-level conceptual understanding is where I stopped—exactly how to implement and practically use a monad was still a mystery to me after a section’s worth of examples.</p>

<h3 id="thanks-for-all-the-lambdas">Thanks For All The Lambdas</h3>

<p>At the end of this chapter, my trepidation unfortunately seemed justified. Perhaps it was a bit of new language burn-out or perhaps it was Haskell’s vertical learning curve, but I had a hell of a time getting as much out of Haskell as I did out of the other languages the book covered.  Frustration with Haskell aside, I had a blast with <em>Seven Languages In Seven Weeks</em>. Covering big swaths of intellectual territory is always fun, and I’ve got a non-trivial desire to start a deep dive into Clojure soon. Time to get back to building things.</p>

      </div>
    </article>
  

<style>
</style>

  
  <ul class="pager">
      
      <li class="previous">
          <a href="/logbook/">&larr; Newer Posts</a>
      </li>
      

      
      <li class="next">
          <a href="/logbook/3/">Older Posts &rarr;</a>
      </li>
      

  </ul>
  
</div><!-- /#index -->

<div class="footer-wrap">
  <footer>
    <span>&copy; 2018 Thomas Mayfield. Powered by <a href="http://jekyllrb.com">Jekyll</a> using the <a href="http://mademistakes.com/">Minimal Mistakes</a> theme.</span>

  </footer>
</div><!-- /.footer-wrap -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="/assets/js/scripts.min.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
     (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
       m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
         })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-28952322-1', 'thegreata.pe');
  ga('send', 'pageview');

</script>


</body>
</html>
