<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Logbook - page 3 &#8211; Duct Tape and Turing Machines</title>
<meta name="description" content="">
<meta name="keywords" content="">
<!-- Twitter Cards -->
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://localhost:4000/images/birds.jpg">
<meta name="twitter:title" content="Logbook - page 3">
<meta name="twitter:description" content="">
<meta name="twitter:creator" content="@thegreatape">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Logbook - page 3">
<meta property="og:description" content="Duct Tape and Turing Machines">
<meta property="og:url" content="http://localhost:4000/logbook/3/index.html">
<meta property="og:site_name" content="Duct Tape and Turing Machines">





<link rel="canonical" href="http://localhost:4000/logbook/3/">
<link href="http://localhost:4000/feed.xml" type="application/atom+xml" rel="alternate" title="Duct Tape and Turing Machines Feed">


<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Google Webfonts -->
<link href='http://fonts.googleapis.com/css?family=PT+Sans+Narrow:400,700|PT+Serif:400,700,400italic' rel='stylesheet' type='text/css'>
<!-- For all browsers -->
<link rel="stylesheet" href="http://localhost:4000/assets/css/main.min.css">

<!--[if (lt IE 9) & (!IEMobile)]>
<link rel="stylesheet" href="http://localhost:4000/assets/css/ie.min.css">
<![endif]-->

<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script src="http://localhost:4000/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="http://localhost:4000/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="http://localhost:4000/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="http://localhost:4000/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://localhost:4000/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://localhost:4000/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://localhost:4000/images/apple-touch-icon-144x144-precomposed.png">

</head>

<body class="articles" itemscope itemtype="http://schema.org/WebPage">

<!--[if lt IE 9]><div class="browser-upgrade alert alert-info">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div><![endif]-->

<div class="navigation-wrapper">
	<div class="site-name">
	</div><!-- /.site-name -->
	<div class="top-navigation">
		<nav role="navigation" itemscope itemtype="http://schema.org/SiteNavigationElement">
		    <ul>
		        
				<li><a href="http://localhost:4000/" >Articles</a></li>
		        
				<li><a href="http://localhost:4000/logbook" >Logbook</a></li>
		        
				<li><a href="http://localhost:4000/code" >Code</a></li>
		        
		        <li><i class="icon-feed"></i> <a href="http://localhost:4000/feed.xml" title="Atom/RSS feed">Feed</a>
		    </ul>
		</nav>
	</div><!-- /.top-navigation -->
</div><!-- /.navigation-wrapper -->



<div class="article-author-top">
  <img src="http://localhost:4000/images/bio-photo.png" class="bio-photo" alt="Thomas Mayfield bio photo"></a>
<div class="bio-content">
  <h3>Thomas Mayfield</h3>
  <p>Polyglot programmer who loves the weird beautiful chaos of humans building software together. Fitness nerd. Southern kid living in Massachusetts.</p>
  <div class="social-icons">
    <a href="http://twitter.com/thegreatape" class="author-social" target="_blank"><i class="icon-twitter"></i> Twitter</a>
    
    
    
    
    <a href="http://github.com/thegreatape" class="author-social" target="_blank"><i class="icon-github"></i> Github</a>
    
    
  </div>
</div>

</div>

<div id="log-index" itemprop="mainContentOfPage" itemscope itemtype="http://schema.org/Blog">
  
    <article itemscope itemtype="http://schema.org/BlogPosting" itemprop="blogPost" class="logbook">
      <h2 itemprop="headline">
        <a href="http://localhost:4000/logbooks/2012-06-02-notes-on-scala-seven-languages-in-seven-weeks/" rel="bookmark" title="Notes on Scala: Seven Languages In Seven Weeks"> 
          <span class="post-date">Jun 16, 2012</span>
        </a>
      </h2>
      <div class="article-wrap" itemprop="text">
        <p>After Prolog’s brain-bending, it was a bit of a relief to tackle Scala and return to a more familiar general-purpose language with a C-descended syntax.</p>

<h3 id="java">Java++?</h3>

<p>Scala seems to be attempting, in many ways, to be a better Java. It runs on the JVM and interoperates with Java freely - you can literally mix and match Scala and Java files in a single project, with all the classes involved able to call into each other without any translation layer. Many of the design choices made seem to attempt to solve Java’s problems, while still remaining compatible:</p>

<ul>
  <li>Scala, like Java, is strongly and statically typed, but does away with much of the ceremony around type declaration. Types are often simply inferred by the compiler, with no need to declare them.</li>
  <li>Scala has Java’s classical object inheritance model, but there are syntactic shortcuts for many parts of the system. Stuff like: constructors with no parameters can just be expressed as bare code after the class definition line, and short functions can be expressed on one line.</li>
  <li>Class methods and interfaces are present in Scala, but are actually separated out more cleanly into companion object declarations. Things defined with the <code class="highlighter-rouge">Object</code> keyword are straight-up class method structs, but <code class="highlighter-rouge">Trait</code>s actually behave more like Ruby mixins than Java interfaces.</li>
</ul>

<p>This level of improvement feels akin to CoffeeScript vs. Javascript: pretty great stuff, some nice improvements, but nothing that will affect the macro-level patterns one uses to write code or one’s overall productivity.</p>

<h3 id="lisp-y-behavior">LISP-y Behavior</h3>

<p>Here’s where Scala actually adds something to its Java roots: it supports real functional programming right alongside OOP. Scala has first-class, anonymous functions with lexical closures and a nice terse syntax for expressing them. Working with Scala’s collections will feel natural to Rubyists: you’ll find yourself happily mapping and folding along.</p>

<p>Scala’s concurrency model ties neatly into its functional nature. Rather than threads that share data and must deal with locking and concurrent access, Scala (like Io) uses asynchronous actors with no shared state These actors communicate via messages, the receiving of which can take advantage of some of the very powerful pattern matching at the core of the language These aren’t just case statements, but can do matching with conditional guards, regular expressions and even singleton types declared just for message-passing.</p>

<p>Scala’s typing model is clearly built to aid both concurrency and function programming - the choice of <code class="highlighter-rouge">val</code> vs. <code class="highlighter-rouge">var</code> when declaring a variable determines whether the variable is mutable or not. Given that immutability is so important for FP and parallel programming, that Scala has mutable variables at all feels like a compromise to interoperate with Java.</p>

<h3 id="friction">Friction</h3>

<p>Though Scala seems to be trying to do away with the syntactic bulk of Java (and the cognitive overhead associated with it), it certainly comes with its own set of baggage and ceremonies. For example, when extending a class via inheritance, you <em>must</em> use the <code class="highlighter-rouge">override</code> keyword anywhere the original classes signatures are overridden, even constructor parameters. Even at a syntax level, there’s a lot going on, even if it doesn’t contribute to lines-of-code-bloat like Java: a <code class="highlighter-rouge">&lt;-</code> here means dereference something enumerable in a loop and there a <code class="highlighter-rouge">-&gt;</code> means mapping a key to a value in Map creation shorthand. Types get odd at times as well: <code class="highlighter-rouge">Any</code> is everything’s superclass (ok) and <code class="highlighter-rouge">Nothing</code> is a subclass of everything (wat).</p>

<p>Then there’s the XML literals. I think it’s ultimately a gimmick: if you’re slicing and slicing a lot of XML files, having XPath querying built into your language can be nice, but do we really need support for this at a syntactic level? And because the web isn’t generally valid XML, using this for HTML screen-scraping is a non-starter. I just don’t get why this sort of thing isn’t a user-space library.</p>

<p>I’ve got mixed-to-negative feelings of Scala after this little first date with the language. If I were stuck on a big Java project and needed a better tool I could use without chucking the existing codebase, I might reach for Scala - but I’m not, and the language does doesn’t hang together well enough for me to consider putting a lot of time into learning more about it.</p>

      </div>
    </article>
  
    <article itemscope itemtype="http://schema.org/BlogPosting" itemprop="blogPost" class="logbook">
      <h2 itemprop="headline">
        <a href="http://localhost:4000/logbooks/2012-05-24-notes-on-prolog-seven-languages-in-seven-weeks/" rel="bookmark" title="Notes on Prolog: Seven Languages in Seven Weeks"> 
          <span class="post-date">May 24, 2012</span>
        </a>
      </h2>
      <div class="article-wrap" itemprop="text">
        <p>A quick note on setup: on OS X Lion, I had to install GNU Prolog with <code class="highlighter-rouge">brew install gnu-prolog --use-gcc</code> to avoid compilation errors when using Clang.</p>

<p>Let’s get this out of the way: Prolog is not a general purpose language. It has its niche and can do some pretty interesting stuff inside that domain, but it’s not exactly suited for talking over a network or processing XML. Instead, Prolog is a declarative logic engine: you feed it knowledge and rules, then given these facts and constraints, it can be used to solve for values that fit your world of truth. You can prove statements true or false (“is a cat a mammal?”) or find missing pieces to make true statements (“I need yeast, barley, water and what else to make beer? Solve for what else.”).</p>

<p>Most of Prolog’s power seems to come from defining recursive rules that operate on lists of data. You can split apart lists with the <code class="highlighter-rouge">[Head|Tail]</code> syntax that reminds me of messing with lists in Lisp recursively with <code class="highlighter-rouge">car</code>/<code class="highlighter-rouge">cdr</code>. Problem solving using this approach feels very much like when I used to mess around with Scheme in college, but the process of unification—making symbols on both sides of rule agree— was hard to wrap my head around. For example, rather than saying something like <code class="highlighter-rouge">result = sum([1, 2, 3])</code>, you’d say <code class="highlighter-rouge">sum([1, 2, 3], Result).</code>, with Prolog supplying the value for unbound variable <code class="highlighter-rouge">Result</code> that would make it equal the sum of 1, 2 and 3. I would up doing a lot more thinking than typing when working through the problem sets.</p>

<p>I’ll be honest: Prolog was pretty unexciting to me, and I couldn’t muster up a lot of enthusiasm to work through the example problems. Writing a 27-line sudoku solver by just defining the rules of sudoku is pretty cool and all- but it’s a long leap from there to actually solving someone’s problems in the real world. A more practical example the book gives is a scheduling problem- given a set of scientists with varying schedules and given a laboratory with equipment they need to share, find a schedule that will fit all of them. Parsing languages according to a grammar seems like another interesting application, as do some forms of AI decision-making. All the same, I can’t see myself investing a lot of time in learning more about Prolog until I’ve got a Prolog-shaped problem in my daily work.</p>

      </div>
    </article>
  
    <article itemscope itemtype="http://schema.org/BlogPosting" itemprop="blogPost" class="logbook">
      <h2 itemprop="headline">
        <a href="http://localhost:4000/logbooks/2012-05-20-notes-on-io-seven-languages-in-seven-weeks/" rel="bookmark" title="Notes on Io: Seven Languages In Seven Weeks"> 
          <span class="post-date">May 20, 2012</span>
        </a>
      </h2>
      <div class="article-wrap" itemprop="text">
        <p>I realized recently that though I’d learned a number of new technologies over the last few years, it had been far too long since I learned a new language. I picked up Bruce Tate’s <a href="http://pragprog.com/book/btlang/seven-languages-in-seven-weeks">Seven Languages In Seven Weeks</a> a month ago to remedy this, and wanted to jot down some notes as I went on my Magical Mystery Tour of programming languages.</p>

<p>Quick aside: The books starts with Ruby. I’ve been writing Ruby on and off since 2007, and professionally with Rails for the last year, so I have a reasonable grasp on the language already. I didn’t do the exercises, but was impressed with the author’s approach. Each language is split into three days- Ruby’s chapter goes very quickly from syntax and type system basics all the way down to Ruby’s flavor of metaprogramming. Relative newcomers to Ruby (especially in the Rails world) would do well to work through this chapter- you might just come away with a much better understand of how all that Rails magic actually works.</p>

<p>On to Io.</p>

<h2 id="what-moving-parts">What Moving Parts?</h2>

<p>Io’s core syntax is the simplest thing this side of Scheme. All the hard rules are contained in a scant few pages of this chapter. Everything else is malleable to a pretty ludicrous degree.</p>

<p>Everything in Io is an object; objects, in turn, are just sets of named slots. Slots can contain either methods or data. All interaction is done via message-passing: <code class="highlighter-rouge">Foo bar</code> sends the message <code class="highlighter-rouge">bar</code> to object <code class="highlighter-rouge">Foo</code> - either returning the data in slot <code class="highlighter-rouge">bar</code> on <code class="highlighter-rouge">Foo</code> or calling the method <code class="highlighter-rouge">bar</code> on <code class="highlighter-rouge">Foo</code>, depending on what’s in the slot.</p>

<p>Io, like Javascript, is prototype based. You clone existing objects rather than instantiating new ones from class templates. Messages are passed up the prototype chain to the object’s parent if the object itself doesn’t know how to handle the message. If you’re fuzzy on prototype-based inheritance in Javascript, read this chapter. It’ll help even if you’re using a library or transpiled JS language that mocks class-based inheritance for you.</p>

<p>Interestingly, types in Io are just themselves objects. Creating an object with a lowercase name gives the resulting object a <code class="highlighter-rouge">type</code> slot with a reference to the cloned object; objects with uppercase names don’t get this <code class="highlighter-rouge">type</code> slot and get treated as types by convention only. Cloning <code class="highlighter-rouge">Meat</code> from <code class="highlighter-rouge">Food</code> would create an object you’d likely use as a type, but cloning <code class="highlighter-rouge">bacon</code> from <code class="highlighter-rouge">Meat</code> would simply give you an object with a type of <code class="highlighter-rouge">Meat</code>.</p>

<h2 id="bending-reality">Bending Reality</h2>

<p>And you thought Ruby was great for making DSLs? Io lets you redefine and extend everything from the built-in operator table to the semantics of message-passing between objects. Everything is open for reflection - I’m used to object level reflection from Ruby et al, but the message level reflection that lets you get the target and sender of the message inside the call was new and cool.</p>

<p>The last section of this chapter takes you through defining a JSON-ish syntax for map literals and a lispy-looking way to define XML tags, each in around 20 lines of code. It’s pretty indicative of what you can do with the language that I managed to break vim-io’s syntax highlighting with completely valid, executable code while working on these examples.</p>

<p>I’m honestly a bit wary of all this. I’ve seen beautiful APIs created by metaprogramming in Ruby, but I’ve also seen my fair share of coding horrors done with the same. I’d like to be able to rely on at least some common rules when using someone else’s code and not worry that it’s just subtly altered the environment everything else runs in.</p>

<h2 id="all-at-once">All At Once</h2>

<p>Io’s concurrency features are slick as hell. There’s no preemptive multitasking here - no locks, no threads, no worries about concurrent state-modification. Everything is done through user-level cooperative coroutines.</p>

<p>The mechanics of using coroutines are as simple as the language’s syntax. Any message can be converted to an asynchronous actor by prefixing it with @@. The message passing then returns nil and the execution of the method goes on in the background: <code class="highlighter-rouge">blender liquify</code> can be converted to a background job by just changing it to <code class="highlighter-rouge">blender @@liquify</code>. A coroutine can call <code class="highlighter-rouge">yield</code> to voluntarily give control back to another coroutine- useful for running two jobs in parallel with interdependent steps.</p>

<p>Prepending a single @ to a message returns a future instead of nil. You can store the future and go about your business while the object in question does its async business out of band. When the caller needs the result, they pass messages to the future as though its result had already returned. If the result is ready, everything proceeds as normal; otherwise, the current coroutine blocks until the future returns. Apparently there’s also automatic deadlock detection - Io will automatically raise an exception if one is detected instead of hanging.</p>

<p>I really like the idea of futures for the low-hanging fruit involved in something like rendering a page that needs 5 database queries worth of data. Each query is independent of the others, so you just kick them off in the background, grab the futures returned and start your rendering, accessing the future-query results as needed. You’re still bound by the length of the longest query, but there’s no reason to wait for the preceding one to return before calling the next.</p>

<p>Up next, Prolog. At this rate, it’s going to be “Seven Languages in Seven Months”. But I’m having fun.</p>

      </div>
    </article>
  

<style>
</style>

  
  <ul class="pager">
      
      <li class="previous">
          <a href="/logbook/2/">&larr; Newer Posts</a>
      </li>
      

      

  </ul>
  
</div><!-- /#index -->

<div class="footer-wrap">
  <footer>
    <span>&copy; 2018 Thomas Mayfield. Powered by <a href="http://jekyllrb.com">Jekyll</a> using the <a href="http://mademistakes.com/">Minimal Mistakes</a> theme.</span>

  </footer>
</div><!-- /.footer-wrap -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="http://localhost:4000/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="http://localhost:4000/assets/js/scripts.min.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
     (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
       m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
         })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-28952322-1', 'thegreata.pe');
  ga('send', 'pageview');

</script>


</body>
</html>
