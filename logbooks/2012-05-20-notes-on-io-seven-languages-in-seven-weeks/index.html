<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Notes on Io: Seven Languages In Seven Weeks &#8211; Duct Tape and Turing Machines</title>
<meta name="description" content="">
<meta name="keywords" content="">
<!-- Twitter Cards -->
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://thegreata.pe/images/birds.jpg">
<meta name="twitter:title" content="Notes on Io: Seven Languages In Seven Weeks">
<meta name="twitter:description" content="I realized recently that though I’d learned a number of new technologies over the last few years, it had been far too...">
<meta name="twitter:creator" content="@thegreatape">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Notes on Io: Seven Languages In Seven Weeks">
<meta property="og:description" content="Duct Tape and Turing Machines">
<meta property="og:url" content="https://thegreata.pe/logbooks/2012-05-20-notes-on-io-seven-languages-in-seven-weeks/">
<meta property="og:site_name" content="Duct Tape and Turing Machines">





<link rel="canonical" href="https://thegreata.pe/logbooks/2012-05-20-notes-on-io-seven-languages-in-seven-weeks/">
<link href="https://thegreata.pe/feed.xml" type="application/atom+xml" rel="alternate" title="Duct Tape and Turing Machines Feed">


<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Google Webfonts -->
<link href='http://fonts.googleapis.com/css?family=PT+Sans+Narrow:400,700|PT+Serif:400,700,400italic' rel='stylesheet' type='text/css'>
<!-- For all browsers -->
<link rel="stylesheet" href="https://thegreata.pe/assets/css/main.min.css">

<!--[if (lt IE 9) & (!IEMobile)]>
<link rel="stylesheet" href="https://thegreata.pe/assets/css/ie.min.css">
<![endif]-->

<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script src="https://thegreata.pe/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="https://thegreata.pe/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="https://thegreata.pe/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="https://thegreata.pe/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://thegreata.pe/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://thegreata.pe/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://thegreata.pe/images/apple-touch-icon-144x144-precomposed.png">

</head>

<body class="article" itemscope itemtype="http://schema.org/WebPage">

<!--[if lt IE 9]><div class="browser-upgrade alert alert-info">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div><![endif]-->




<div id="main" role="main" itemprop="mainContentOfPage" itemscope itemtype="http://schema.org/Blog">
<div class="navigation-wrapper">
	<div class="site-name">
	</div><!-- /.site-name -->
	<div class="top-navigation">
		<nav role="navigation" itemscope itemtype="http://schema.org/SiteNavigationElement">
		    <ul>
		        
				<li><a href="https://thegreata.pe/" >Articles</a></li>
		        
				<li><a href="https://thegreata.pe/logbook" >Logbook</a></li>
		        
				<li><a href="https://thegreata.pe/code" >Code</a></li>
		        
		        <li><i class="icon-feed"></i> <a href="https://thegreata.pe/feed.xml" title="Atom/RSS feed">Feed</a>
		    </ul>
		</nav>
	</div><!-- /.top-navigation -->
</div><!-- /.navigation-wrapper -->
  <div class="article-author-top">
    <img src="https://thegreata.pe/images/bio-photo.png" class="bio-photo" alt="Thomas Mayfield bio photo"></a>
<div class="bio-content">
  <h3>Thomas Mayfield</h3>
  <p>Polyglot programmer who loves the weird beautiful chaos of humans building software together. Fitness nerd. Southern kid living in Massachusetts.</p>
  <div class="social-icons">
    <a href="http://twitter.com/thegreatape" class="author-social" target="_blank"><i class="icon-twitter"></i> Twitter</a>
    
    
    
    
    <a href="http://github.com/thegreatape" class="author-social" target="_blank"><i class="icon-github"></i> Github</a>
    
    
  </div>
</div>

  </div>
  <article itemscope itemtype="http://schema.org/BlogPosting" itemprop="blogPost">
    <div class="headline-wrap">
      <h1 itemprop="name">Notes on Io: Seven Languages In Seven Weeks</h1>
      <time datetime="2012-05-20T05:19:00-04:00" itemprop="datePublished">May 20, 2012</time>    
    </div><!--/ .headline-wrap -->
    <div class="article-wrap" itemprop="text">
      <p>I realized recently that though I’d learned a number of new technologies over the last few years, it had been far too long since I learned a new language. I picked up Bruce Tate’s <a href="http://pragprog.com/book/btlang/seven-languages-in-seven-weeks">Seven Languages In Seven Weeks</a> a month ago to remedy this, and wanted to jot down some notes as I went on my Magical Mystery Tour of programming languages.</p>

<p>Quick aside: The books starts with Ruby. I’ve been writing Ruby on and off since 2007, and professionally with Rails for the last year, so I have a reasonable grasp on the language already. I didn’t do the exercises, but was impressed with the author’s approach. Each language is split into three days- Ruby’s chapter goes very quickly from syntax and type system basics all the way down to Ruby’s flavor of metaprogramming. Relative newcomers to Ruby (especially in the Rails world) would do well to work through this chapter- you might just come away with a much better understand of how all that Rails magic actually works.</p>

<p>On to Io.</p>

<h2 id="what-moving-parts">What Moving Parts?</h2>

<p>Io’s core syntax is the simplest thing this side of Scheme. All the hard rules are contained in a scant few pages of this chapter. Everything else is malleable to a pretty ludicrous degree.</p>

<p>Everything in Io is an object; objects, in turn, are just sets of named slots. Slots can contain either methods or data. All interaction is done via message-passing: <code class="highlighter-rouge">Foo bar</code> sends the message <code class="highlighter-rouge">bar</code> to object <code class="highlighter-rouge">Foo</code> - either returning the data in slot <code class="highlighter-rouge">bar</code> on <code class="highlighter-rouge">Foo</code> or calling the method <code class="highlighter-rouge">bar</code> on <code class="highlighter-rouge">Foo</code>, depending on what’s in the slot.</p>

<p>Io, like Javascript, is prototype based. You clone existing objects rather than instantiating new ones from class templates. Messages are passed up the prototype chain to the object’s parent if the object itself doesn’t know how to handle the message. If you’re fuzzy on prototype-based inheritance in Javascript, read this chapter. It’ll help even if you’re using a library or transpiled JS language that mocks class-based inheritance for you.</p>

<p>Interestingly, types in Io are just themselves objects. Creating an object with a lowercase name gives the resulting object a <code class="highlighter-rouge">type</code> slot with a reference to the cloned object; objects with uppercase names don’t get this <code class="highlighter-rouge">type</code> slot and get treated as types by convention only. Cloning <code class="highlighter-rouge">Meat</code> from <code class="highlighter-rouge">Food</code> would create an object you’d likely use as a type, but cloning <code class="highlighter-rouge">bacon</code> from <code class="highlighter-rouge">Meat</code> would simply give you an object with a type of <code class="highlighter-rouge">Meat</code>.</p>

<h2 id="bending-reality">Bending Reality</h2>

<p>And you thought Ruby was great for making DSLs? Io lets you redefine and extend everything from the built-in operator table to the semantics of message-passing between objects. Everything is open for reflection - I’m used to object level reflection from Ruby et al, but the message level reflection that lets you get the target and sender of the message inside the call was new and cool.</p>

<p>The last section of this chapter takes you through defining a JSON-ish syntax for map literals and a lispy-looking way to define XML tags, each in around 20 lines of code. It’s pretty indicative of what you can do with the language that I managed to break vim-io’s syntax highlighting with completely valid, executable code while working on these examples.</p>

<p>I’m honestly a bit wary of all this. I’ve seen beautiful APIs created by metaprogramming in Ruby, but I’ve also seen my fair share of coding horrors done with the same. I’d like to be able to rely on at least some common rules when using someone else’s code and not worry that it’s just subtly altered the environment everything else runs in.</p>

<h2 id="all-at-once">All At Once</h2>

<p>Io’s concurrency features are slick as hell. There’s no preemptive multitasking here - no locks, no threads, no worries about concurrent state-modification. Everything is done through user-level cooperative coroutines.</p>

<p>The mechanics of using coroutines are as simple as the language’s syntax. Any message can be converted to an asynchronous actor by prefixing it with @@. The message passing then returns nil and the execution of the method goes on in the background: <code class="highlighter-rouge">blender liquify</code> can be converted to a background job by just changing it to <code class="highlighter-rouge">blender @@liquify</code>. A coroutine can call <code class="highlighter-rouge">yield</code> to voluntarily give control back to another coroutine- useful for running two jobs in parallel with interdependent steps.</p>

<p>Prepending a single @ to a message returns a future instead of nil. You can store the future and go about your business while the object in question does its async business out of band. When the caller needs the result, they pass messages to the future as though its result had already returned. If the result is ready, everything proceeds as normal; otherwise, the current coroutine blocks until the future returns. Apparently there’s also automatic deadlock detection - Io will automatically raise an exception if one is detected instead of hanging.</p>

<p>I really like the idea of futures for the low-hanging fruit involved in something like rendering a page that needs 5 database queries worth of data. Each query is independent of the others, so you just kick them off in the background, grab the futures returned and start your rendering, accessing the future-query results as needed. You’re still bound by the length of the longest query, but there’s no reason to wait for the preceding one to return before calling the next.</p>

<p>Up next, Prolog. At this rate, it’s going to be “Seven Languages in Seven Months”. But I’m having fun.</p>

      <footer role="contentinfo">
        <div class="article-author-bottom">
          <img src="https://thegreata.pe/images/bio-photo.png" class="bio-photo" alt="Thomas Mayfield bio photo"></a>
<div class="bio-content">
  <h3>Thomas Mayfield</h3>
  <p>Polyglot programmer who loves the weird beautiful chaos of humans building software together. Fitness nerd. Southern kid living in Massachusetts.</p>
  <div class="social-icons">
    <a href="http://twitter.com/thegreatape" class="author-social" target="_blank"><i class="icon-twitter"></i> Twitter</a>
    
    
    
    
    <a href="http://github.com/thegreatape" class="author-social" target="_blank"><i class="icon-github"></i> Github</a>
    
    
  </div>
</div>

        </div>
      </footer>
    </div><!-- /.article-wrap -->
  </article>
  <div class="push"></div>
</div><!-- /#main -->

<div class="footer-wrap">
  <footer>
    <span>&copy; 2018 Thomas Mayfield. Powered by <a href="http://jekyllrb.com">Jekyll</a> using the <a href="http://mademistakes.com/">Minimal Mistakes</a> theme.</span>

  </footer>
</div><!-- /.footer-wrap -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="https://thegreata.pe/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="https://thegreata.pe/assets/js/scripts.min.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
     (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
       m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
         })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-28952322-1', 'thegreata.pe');
  ga('send', 'pageview');

</script>
	        

</body>
</html>
